{"ast":null,"code":"// src/router/index.js\nimport { createRouter, createWebHistory } from 'vue-router';\nconst routes = [{\n  path: '/admin/',\n  name: 'Dashboard',\n  component: () => import('@/views/admin/DashboardView.vue'),\n  meta: {\n    // permissions: ['view_dashboard'],\n    requiresAuth: true,\n    title: 'Dashboard',\n    icon: 'mdi-view-dashboard',\n    breadcrumb: [{\n      text: 'Dashboard'\n    }]\n  }\n}, {\n  path: '/admin/categories',\n  name: 'Categories',\n  component: () => import('@/views/admin/category/CategoryList.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Quản lý Danh mục',\n    permissions: ['view_categories'],\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Danh mục'\n    }]\n  }\n}, {\n  path: '/admin/products',\n  name: 'Products',\n  component: () => import('@/views/admin/product/ProductList.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Quản lý Sản phẩm',\n    permissions: ['manage_products'],\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Sản phẩm'\n    }]\n  }\n}, {\n  path: '/admin/products/create',\n  name: 'ProductCreate',\n  component: () => import('@/views/admin/product/ProductForm.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Thêm sản phẩm mới',\n    permissions: ['manage_products'],\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Sản phẩm',\n      to: '/products'\n    }, {\n      text: 'Thêm mới'\n    }]\n  }\n}, {\n  path: '/admin/products/:id/edit',\n  name: 'ProductEdit',\n  component: () => import('@/views/admin/product/ProductForm.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Chỉnh sửa sản phẩm',\n    permissions: ['manage_products'],\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Sản phẩm',\n      to: '/products'\n    }, {\n      text: 'Chỉnh sửa'\n    }]\n  },\n  props: true\n}, {\n  path: '/admin/orders',\n  name: 'Orders',\n  component: () => import('@/views/admin/order/OrderList.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Quản lý Đơn hàng',\n    permissions: ['manage_orders'],\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Đơn hàng'\n    }]\n  }\n}, {\n  path: '/admin/orders/:id',\n  name: 'OrderDetail',\n  component: () => import('@/views/admin/order/OrderDetail.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Chi tiết đơn hàng',\n    permissions: ['manage_orders'],\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Đơn hàng',\n      to: '/orders'\n    }, {\n      text: 'Chi tiết'\n    }]\n  },\n  props: true\n}, {\n  path: '/admin/customers',\n  name: 'Customers',\n  component: () => import('@/views/admin/customer/CustomerList.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Quản lý Khách hàng',\n    permissions: ['manage_users'],\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Khách hàng'\n    }]\n  }\n}, {\n  path: '/admin/vouchers',\n  name: 'Vouchers',\n  component: () => import('@/views/admin/voucher/VoucherList.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Quản lý Mã giảm giá',\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/'\n    }, {\n      text: 'Mã giảm giá'\n    }]\n  }\n}, {\n  path: '/admin/news',\n  name: 'News',\n  component: () => import('@/views/admin/news/NewsList.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Quản lý Tin tức',\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/admin/'\n    }, {\n      text: 'Tin tức'\n    }]\n  }\n}, {\n  path: '/admin/favorite-products',\n  name: 'FavoriteProducts',\n  component: () => import('@/views/admin/product/FavoriteProductList.vue'),\n  meta: {\n    requiresAuth: true,\n    title: 'Sản phẩm yêu thích',\n    breadcrumb: [{\n      text: 'Dashboard',\n      to: '/admin/'\n    }, {\n      text: 'Sản phẩm yêu thích'\n    }]\n  }\n}, {\n  path: '/login',\n  name: 'Login',\n  component: () => import('@/views/user/auth/LoginView.vue'),\n  meta: {\n    requiresGuest: true,\n    title: 'Đăng nhập'\n  }\n}, {\n  path: '/logout',\n  name: 'Logout',\n  component: () => import('@/views/user/auth/LogoutView.vue'),\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: '/forbidden',\n  name: 'Forbidden',\n  component: () => import('@/views/user/errors/NotFound.vue'),\n  // Tạo file này nếu chưa có\n  meta: {\n    title: 'Truy cập bị từ chối'\n  }\n}\n// {\n//   path: '/:pathMatch(.*)*',\n//   name: 'NotFound',\n//   component: () => import('../views/user/errors/NotFound.vue'),\n//   meta: {\n//     title: 'Không tìm thấy trang'\n//   }\n// }\n];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n  scrollBehavior(to, from, savedPosition) {\n    return savedPosition || {\n      top: 0,\n      behavior: 'smooth'\n    };\n  }\n});\nrouter.beforeEach(async (to, from, next) => {\n  // Cập nhật đoạn kiểm tra admin\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  // Fix 1: Chuẩn hóa kiểu dữ liệu\n  const role = parseInt(user.role || user.Role || 0);\n\n  // Fix 2: Kiểm tra rõ ràng\n  const normalizedIsAdmin = role === 1; // Luôn dùng === với number\n\n  console.log('[Fixed Check]', {\n    storedRole: user.role || user.Role,\n    normalizedRole: role,\n    isAdmin: normalizedIsAdmin\n  });\n  if (to.path.startsWith('/admin') && !normalizedIsAdmin) {\n    console.warn('Admin access denied', {\n      path: to.path,\n      role\n    });\n    return next('/forbidden');\n  }\n  // 1. Xử lý tiêu đề trang\n  document.title = to.meta.title ? `${to.meta.title} | Hệ thống Quản lý` : 'Hệ thống Quản lý';\n\n  // 2. Lấy thông tin người dùng\n  const authToken = localStorage.getItem('authToken');\n  const permissions = user.permissions || [];\n  const isAdmin = user.Role === 1; // Giả sử Role 1 là admin\n\n  console.log(`Navigation: ${from.path} -> ${to.path}`);\n  console.log('Auth status:', !!authToken);\n  console.log('User role:', user.Role);\n\n  // 3. Route yêu cầu auth nhưng chưa đăng nhập\n  if (to.meta.requiresAuth && !authToken) {\n    console.log('Redirect to login - requires auth');\n    return next({\n      name: 'Login',\n      query: {\n        redirect: to.fullPath\n      }\n    });\n  }\n\n  // 4. Route yêu cầu guest nhưng đã đăng nhập\n  if (to.meta.requiresGuest && authToken) {\n    console.log('Redirect to dashboard - already authenticated');\n    return next({\n      name: 'Dashboard'\n    });\n  }\n\n  // 5. Kiểm tra quyền truy cập admin - THAY ĐỔI CHÍNH Ở ĐÂY\n  // Sửa thành (kiểm tra kỹ hơn):\n  if (to.path.startsWith('/admin')) {\n    if (!isAdmin) {\n      console.warn('Access denied - Admin only');\n      if (authToken) {\n        return next('/forbidden');\n      }\n      return next('/login');\n    }\n  }\n  next();\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","routes","path","name","component","meta","requiresAuth","title","icon","breadcrumb","text","permissions","to","props","requiresGuest","router","history","process","env","BASE_URL","scrollBehavior","from","savedPosition","top","behavior","beforeEach","next","user","JSON","parse","localStorage","getItem","role","parseInt","Role","normalizedIsAdmin","console","log","storedRole","normalizedRole","isAdmin","startsWith","warn","document","authToken","query","redirect","fullPath"],"sources":["C:/xampp/htdocs/duan/my-new-admin-dashboard/src/router/index.js"],"sourcesContent":["// src/router/index.js\r\nimport { createRouter, createWebHistory } from 'vue-router';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/admin/',\r\n    name: 'Dashboard',\r\n    component: () => import('@/views/admin/DashboardView.vue'),\r\n    meta: {\r\n      // permissions: ['view_dashboard'],\r\n      requiresAuth: true,\r\n      title: 'Dashboard',\r\n      icon: 'mdi-view-dashboard',\r\n      breadcrumb: [{ text: 'Dashboard' }]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/categories',\r\n    name: 'Categories',\r\n    component: () => import('@/views/admin/category/CategoryList.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Quản lý Danh mục',\r\n      permissions: ['view_categories'],\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Danh mục' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/products',\r\n    name: 'Products',\r\n    component: () => import('@/views/admin/product/ProductList.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Quản lý Sản phẩm',\r\n      permissions: ['manage_products'],\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Sản phẩm' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/products/create',\r\n    name: 'ProductCreate',\r\n    component: () => import('@/views/admin/product/ProductForm.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Thêm sản phẩm mới',\r\n      permissions: ['manage_products'],\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Sản phẩm', to: '/products' },\r\n        { text: 'Thêm mới' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/products/:id/edit',\r\n    name: 'ProductEdit',\r\n    component: () => import('@/views/admin/product/ProductForm.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Chỉnh sửa sản phẩm',\r\n      permissions: ['manage_products'],\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Sản phẩm', to: '/products' },\r\n        { text: 'Chỉnh sửa' }\r\n      ]\r\n    },\r\n    props: true\r\n  },\r\n  {\r\n    path: '/admin/orders',\r\n    name: 'Orders',\r\n    component: () => import('@/views/admin/order/OrderList.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Quản lý Đơn hàng',\r\n      permissions: ['manage_orders'],\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Đơn hàng' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/orders/:id',\r\n    name: 'OrderDetail',\r\n    component: () => import('@/views/admin/order/OrderDetail.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Chi tiết đơn hàng',\r\n      permissions: ['manage_orders'],\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Đơn hàng', to: '/orders' },\r\n        { text: 'Chi tiết' }\r\n      ]\r\n    },\r\n    props: true\r\n  },\r\n  {\r\n    path: '/admin/customers',\r\n    name: 'Customers',\r\n    component: () => import('@/views/admin/customer/CustomerList.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Quản lý Khách hàng',\r\n      permissions: ['manage_users'],\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Khách hàng' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/vouchers',\r\n    name: 'Vouchers',\r\n    component: () => import('@/views/admin/voucher/VoucherList.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Quản lý Mã giảm giá',\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/' },\r\n        { text: 'Mã giảm giá' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/news',\r\n    name: 'News',\r\n    component: () => import('@/views/admin/news/NewsList.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Quản lý Tin tức',\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/admin/' },\r\n        { text: 'Tin tức' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/admin/favorite-products',\r\n    name: 'FavoriteProducts',\r\n    component: () => import('@/views/admin/product/FavoriteProductList.vue'),\r\n    meta: {\r\n      requiresAuth: true,\r\n      title: 'Sản phẩm yêu thích',\r\n      breadcrumb: [\r\n        { text: 'Dashboard', to: '/admin/' },\r\n        { text: 'Sản phẩm yêu thích' }\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'Login',\r\n    component: () => import('@/views/user/auth/LoginView.vue'),\r\n    meta: {\r\n      requiresGuest: true,\r\n      title: 'Đăng nhập'\r\n    }\r\n  },\r\n  {\r\n    path: '/logout',\r\n    name: 'Logout',\r\n    component: () => import('@/views/user/auth/LogoutView.vue'),\r\n    meta: {\r\n      requiresAuth: true\r\n    }\r\n  },\r\n    {\r\n    path: '/forbidden',\r\n    name: 'Forbidden',\r\n    component: () => import('@/views/user/errors/NotFound.vue'), // Tạo file này nếu chưa có\r\n    meta: { title: 'Truy cập bị từ chối' }\r\n  }\r\n  // {\r\n  //   path: '/:pathMatch(.*)*',\r\n  //   name: 'NotFound',\r\n  //   component: () => import('../views/user/errors/NotFound.vue'),\r\n  //   meta: {\r\n  //     title: 'Không tìm thấy trang'\r\n  //   }\r\n  // }\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n  scrollBehavior(to, from, savedPosition) {\r\n    return savedPosition || { top: 0, behavior: 'smooth' };\r\n  }\r\n});\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n// Cập nhật đoạn kiểm tra admin\r\nconst user = JSON.parse(localStorage.getItem('user') || '{}');\r\n\r\n// Fix 1: Chuẩn hóa kiểu dữ liệu\r\nconst role = parseInt(user.role || user.Role || 0);\r\n\r\n// Fix 2: Kiểm tra rõ ràng\r\nconst normalizedIsAdmin = role === 1; // Luôn dùng === với number\r\n\r\nconsole.log('[Fixed Check]', {\r\n  storedRole: user.role || user.Role,\r\n  normalizedRole: role,\r\n  isAdmin: normalizedIsAdmin\r\n});\r\n\r\nif (to.path.startsWith('/admin') && !normalizedIsAdmin) {\r\n  console.warn('Admin access denied', { path: to.path, role });\r\n  return next('/forbidden');\r\n}\r\n  // 1. Xử lý tiêu đề trang\r\n  document.title = to.meta.title ? `${to.meta.title} | Hệ thống Quản lý` : 'Hệ thống Quản lý';\r\n  \r\n  // 2. Lấy thông tin người dùng\r\n  const authToken = localStorage.getItem('authToken');\r\n  const permissions = user.permissions || [];\r\n  const isAdmin = user.Role === 1; // Giả sử Role 1 là admin\r\n\r\n  console.log(`Navigation: ${from.path} -> ${to.path}`);\r\n  console.log('Auth status:', !!authToken);\r\n  console.log('User role:', user.Role);\r\n\r\n  // 3. Route yêu cầu auth nhưng chưa đăng nhập\r\n  if (to.meta.requiresAuth && !authToken) {\r\n    console.log('Redirect to login - requires auth');\r\n    return next({ \r\n      name: 'Login', \r\n      query: { redirect: to.fullPath } \r\n    });\r\n  }\r\n\r\n  // 4. Route yêu cầu guest nhưng đã đăng nhập\r\n  if (to.meta.requiresGuest && authToken) {\r\n    console.log('Redirect to dashboard - already authenticated');\r\n    return next({ \r\n      name: 'Dashboard'\r\n    });\r\n  }\r\n\r\n  // 5. Kiểm tra quyền truy cập admin - THAY ĐỔI CHÍNH Ở ĐÂY\r\n // Sửa thành (kiểm tra kỹ hơn):\r\nif (to.path.startsWith('/admin')) {\r\n  if (!isAdmin) {\r\n    console.warn('Access denied - Admin only');\r\n    if (authToken) {\r\n      return next('/forbidden');\r\n    }\r\n    return next('/login');\r\n  }\r\n}\r\n\r\n\r\n\r\n  next();\r\n});\r\n\r\nexport default router;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}