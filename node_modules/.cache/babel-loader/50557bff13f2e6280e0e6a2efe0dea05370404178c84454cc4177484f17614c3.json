{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'LoginView',\n  data() {\n    return {\n      form: {\n        login: '',\n        // Nhận cả email hoặc username\n        password: ''\n      },\n      loading: false,\n      error: ''\n    };\n  },\n  methods: {\n    async handleLogin() {\n      this.loading = true;\n      this.error = '';\n      try {\n        const response = await axios.post('http://your-laravel-api/api/login', {\n          login: this.form.login,\n          Password: this.form.password\n        });\n        if (response.data.success) {\n          // Lưu token và user info vào Vuex/localStorage\n          localStorage.setItem('authToken', response.data.token);\n          localStorage.setItem('user', JSON.stringify(response.data.user));\n\n          // Chuyển hướng sau khi đăng nhập thành công\n          this.$router.push('/');\n        } else {\n          this.error = response.data.message;\n        }\n      } catch (error) {\n        if (error.response) {\n          // Lỗi từ phản hồi API\n          this.error = error.response.data.message || 'Đăng nhập thất bại';\n        } else {\n          this.error = 'Lỗi kết nối đến máy chủ';\n        }\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","form","login","password","loading","error","methods","handleLogin","response","post","Password","success","localStorage","setItem","token","JSON","stringify","user","$router","push","message"],"sources":["C:\\xampp\\htdocs\\duan\\my-new-admin-dashboard\\src\\views\\user\\auth\\LoginView.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <h1>Đăng nhập hệ thống</h1>\r\n    <form @submit.prevent=\"handleLogin\">\r\n      <div class=\"form-group\">\r\n        <label>Email hoặc Username</label>\r\n        <input type=\"text\" v-model=\"form.login\" required>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label>Mật khẩu</label>\r\n        <input type=\"password\" v-model=\"form.password\" required>\r\n      </div>\r\n      <button type=\"submit\" :disabled=\"loading\">\r\n        {{ loading ? 'Đang xử lý...' : 'Đăng nhập' }}\r\n      </button>\r\n      <div v-if=\"error\" class=\"error-message\">{{ error }}</div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  data() {\r\n    return {\r\n      form: {\r\n        login: '',  // Nhận cả email hoặc username\r\n        password: ''\r\n      },\r\n      loading: false,\r\n      error: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async handleLogin() {\r\n      this.loading = true;\r\n      this.error = '';\r\n      \r\n      try {\r\n        const response = await axios.post('http://your-laravel-api/api/login', {\r\n          login: this.form.login,\r\n          Password: this.form.password\r\n        });\r\n\r\n        if (response.data.success) {\r\n          // Lưu token và user info vào Vuex/localStorage\r\n          localStorage.setItem('authToken', response.data.token);\r\n          localStorage.setItem('user', JSON.stringify(response.data.user));\r\n          \r\n          // Chuyển hướng sau khi đăng nhập thành công\r\n          this.$router.push('/');\r\n        } else {\r\n          this.error = response.data.message;\r\n        }\r\n      } catch (error) {\r\n        if (error.response) {\r\n          // Lỗi từ phản hồi API\r\n          this.error = error.response.data.message || 'Đăng nhập thất bại';\r\n        } else {\r\n          this.error = 'Lỗi kết nối đến máy chủ';\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.error-message {\r\n  color: red;\r\n  margin-top: 1rem;\r\n}\r\n</style>"],"mappings":";AAqBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,KAAK,EAAE,EAAE;QAAG;QACZC,QAAQ,EAAE;MACZ,CAAC;MACDC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,WAAWA,CAAA,EAAG;MAClB,IAAI,CAACH,OAAM,GAAI,IAAI;MACnB,IAAI,CAACC,KAAI,GAAI,EAAE;MAEf,IAAI;QACF,MAAMG,QAAO,GAAI,MAAMV,KAAK,CAACW,IAAI,CAAC,mCAAmC,EAAE;UACrEP,KAAK,EAAE,IAAI,CAACD,IAAI,CAACC,KAAK;UACtBQ,QAAQ,EAAE,IAAI,CAACT,IAAI,CAACE;QACtB,CAAC,CAAC;QAEF,IAAIK,QAAQ,CAACR,IAAI,CAACW,OAAO,EAAE;UACzB;UACAC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEL,QAAQ,CAACR,IAAI,CAACc,KAAK,CAAC;UACtDF,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEE,IAAI,CAACC,SAAS,CAACR,QAAQ,CAACR,IAAI,CAACiB,IAAI,CAAC,CAAC;;UAEhE;UACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;QACxB,OAAO;UACL,IAAI,CAACd,KAAI,GAAIG,QAAQ,CAACR,IAAI,CAACoB,OAAO;QACpC;MACF,EAAE,OAAOf,KAAK,EAAE;QACd,IAAIA,KAAK,CAACG,QAAQ,EAAE;UAClB;UACA,IAAI,CAACH,KAAI,GAAIA,KAAK,CAACG,QAAQ,CAACR,IAAI,CAACoB,OAAM,IAAK,oBAAoB;QAClE,OAAO;UACL,IAAI,CAACf,KAAI,GAAI,yBAAyB;QACxC;MACF,UAAU;QACR,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}